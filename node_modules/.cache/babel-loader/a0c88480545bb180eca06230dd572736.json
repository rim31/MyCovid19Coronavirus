{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rims/Documents/Projects/covid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rims/Documents/Projects/covid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/rims/Documents/Projects/covid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Box from'@material-ui/core/Box';import Typography from'@material-ui/core/Typography';import Link from'@material-ui/core/Link';import{StoreContainer}from'../Store';import ListCountries from'../modules/ListCountries';import Dashboard from'../Charts/Dashboard';import MapChart from'../Map/MapChart';function Copyright(){return/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"center\"},'Copyright © ',/*#__PURE__*/React.createElement(Link,{color:\"inherit\",href:\"https://material-ui.com/\"},\"https://rim31.github.io/\"),' ',new Date().getFullYear());}export default function MainComponent(){var unstated=StoreContainer.useContainer();var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),content=_React$useState4[0],setContent=_React$useState4[1];var getCovidData=function getCovidData(){try{fetch(\"https://api.covid19api.com/summary\",{method:\"GET\"}).then(function(response){return response.json();}).then(function(res){setData(res);return res;}).catch(function(err){return alert(\"please change browser : error getting data\");});}catch(err){console.log(err);return;}};function getAll(){return _getAll.apply(this,arguments);}function _getAll(){_getAll=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return unstated.getTotal();case 2:case\"end\":return _context.stop();}}},_callee);}));return _getAll.apply(this,arguments);}React.useEffect(function(){setData(getCovidData());unstated.updateCountriesML();console.log(\"countriesML : mainComponents\",unstated.countriesML);// problem with fetching data :TODO  Remove this(after found out) \ngetAll();// eslint-disable-next-line\n},[]);return/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:'#282c34'}},/*#__PURE__*/React.createElement(\"div\",{className:\"row py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\" col-lg-9 col-md-9 col-sm-12 col-xs-12\",id:\"sticky-sidebar\"},/*#__PURE__*/React.createElement(Dashboard,{data:unstated.total?unstated.total:data?data:{},content:content?content:'',style:{position:\"absolute\",zIndex:100,backgroundColor:'#282c34'}}),/*#__PURE__*/React.createElement(MapChart,{setTooltipContent:setContent})),/*#__PURE__*/React.createElement(\"div\",{className:\"order-1 col-lg-3 col-md-3 col-sm-12 col-xs-12\",id:\"main\"},/*#__PURE__*/React.createElement(ListCountries,{data:unstated.total!==undefined?unstated.total:data!==undefined?data:{},setCountry:unstated.setCountry,setCode:unstated.setCode}))),/*#__PURE__*/React.createElement(Box,{pt:4,style:{bottom:0,position:'absolute'}},/*#__PURE__*/React.createElement(Copyright,null)));}","map":{"version":3,"sources":["/Users/rims/Documents/Projects/covid19/src/components/Pages/MainComponent.tsx"],"names":["React","Box","Typography","Link","StoreContainer","ListCountries","Dashboard","MapChart","Copyright","Date","getFullYear","MainComponent","unstated","useContainer","useState","data","setData","content","setContent","getCovidData","fetch","method","then","response","json","res","catch","err","alert","console","log","getAll","getTotal","useEffect","updateCountriesML","countriesML","backgroundColor","total","position","zIndex","undefined","setCountry","setCode","bottom"],"mappings":"odAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,OAASC,cAAT,KAA+B,UAA/B,CACA,MAAOC,CAAAA,aAAP,KAA0B,0BAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CAEA,QAASC,CAAAA,SAAT,EAAqB,CACnB,mBACE,oBAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,KAAK,CAAC,eAAlC,CAAkD,KAAK,CAAC,QAAxD,EACG,cADH,cAEE,oBAAC,IAAD,EAAM,KAAK,CAAC,SAAZ,CAAsB,IAAI,CAAC,0BAA3B,6BAFF,CAIU,GAJV,CAKG,GAAIC,CAAAA,IAAJ,GAAWC,WAAX,EALH,CADF,CASD,CAED,cAAe,SAASC,CAAAA,aAAT,EAAyB,CACtC,GAAMC,CAAAA,QAAQ,CAAGR,cAAc,CAACS,YAAf,EAAjB,CADsC,oBAEdb,KAAK,CAACc,QAAN,CAAoB,EAApB,CAFc,oDAE/BC,IAF+B,qBAEzBC,OAFyB,0CAGRhB,KAAK,CAACc,QAAN,CAAe,EAAf,CAHQ,qDAG/BG,OAH+B,qBAGtBC,UAHsB,qBAMtC,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAI,CACFC,KAAK,sCAAuC,CAC1CC,MAAM,CAAE,KADkC,CAAvC,CAAL,CAEGC,IAFH,CAEQ,SAACC,QAAD,QAAmBA,CAAAA,QAAQ,CAACC,IAAT,EAAnB,EAFR,EAE4CF,IAF5C,CAEiD,SAACG,GAAD,CAAS,CACxDT,OAAO,CAACS,GAAD,CAAP,CACA,MAAQA,CAAAA,GAAR,CACD,CALD,EAKGC,KALH,CAKS,SAAAC,GAAG,QAAIC,CAAAA,KAAK,8CAAT,EALZ,EAMD,CAAC,MAAOD,GAAP,CAAY,CACZE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACA,OACD,CACF,CAZD,CANsC,QAoBvBI,CAAAA,MApBuB,4HAoBtC,yJACQnB,CAAAA,QAAQ,CAACoB,QAAT,EADR,uDApBsC,yCAwBtChC,KAAK,CAACiC,SAAN,CAAgB,UAAM,CACpBjB,OAAO,CAACG,YAAY,EAAb,CAAP,CACAP,QAAQ,CAACsB,iBAAT,GACAL,OAAO,CAACC,GAAR,CAAY,8BAAZ,CAA4ClB,QAAQ,CAACuB,WAArD,EACA;AACAJ,MAAM,GACN;AACD,CAPD,CAOG,EAPH,EAQA,mBACE,2BAAK,KAAK,CAAE,CAAEK,eAAe,CAAE,SAAnB,CAAZ,eACE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,wCAAf,CAAwD,EAAE,CAAC,gBAA3D,eACE,oBAAC,SAAD,EAAW,IAAI,CAAExB,QAAQ,CAACyB,KAAT,CAAiBzB,QAAQ,CAACyB,KAA1B,CAAmCtB,IAAI,CAAGA,IAAH,CAAU,EAAlE,CACE,OAAO,CAAEE,OAAO,CAAGA,OAAH,CAAa,EAD/B,CAEE,KAAK,CAAE,CAAEqB,QAAQ,CAAE,UAAZ,CAAwBC,MAAM,CAAE,GAAhC,CAAqCH,eAAe,CAAE,SAAtD,CAFT,EADF,cAKE,oBAAC,QAAD,EAAU,iBAAiB,CAAElB,UAA7B,EALF,CADF,cAQE,2BAAK,SAAS,CAAC,+CAAf,CAA+D,EAAE,CAAC,MAAlE,eAEE,oBAAC,aAAD,EAAe,IAAI,CAAEN,QAAQ,CAACyB,KAAT,GAAmBG,SAAnB,CAA+B5B,QAAQ,CAACyB,KAAxC,CAAiDtB,IAAI,GAAKyB,SAAT,CAAqBzB,IAArB,CAA4B,EAAlG,CACE,UAAU,CAAEH,QAAQ,CAAC6B,UADvB,CACmC,OAAO,CAAE7B,QAAQ,CAAC8B,OADrD,EAFF,CARF,CADF,cAkBE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,KAAK,CAAE,CAAEC,MAAM,CAAE,CAAV,CAAaL,QAAQ,CAAE,UAAvB,CAAnB,eACE,oBAAC,SAAD,MADF,CAlBF,CADF,CAwBD","sourcesContent":["import React from 'react';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\nimport { StoreContainer } from '../Store';\nimport ListCountries from '../modules/ListCountries';\nimport Dashboard from '../Charts/Dashboard';\nimport MapChart from '../Map/MapChart';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        https://rim31.github.io/\n      </Link>{' '}\n      {new Date().getFullYear()}\n    </Typography>\n  );\n}\n\nexport default function MainComponent() {\n  const unstated = StoreContainer.useContainer();\n  const [data, setData] = React.useState<any>(\"\");\n  const [content, setContent] = React.useState(\"\");\n\n\n  const getCovidData = () => {\n    try {\n      fetch(`https://api.covid19api.com/summary`, {\n        method: \"GET\",\n      }).then((response: any) => response.json()).then((res) => {\n        setData(res);\n        return (res)\n      }).catch(err => alert(`please change browser : error getting data`));\n    } catch (err) {\n      console.log(err)\n      return;\n    }\n  };\n\n  async function getAll() {\n    await unstated.getTotal();\n  }\n\n  React.useEffect(() => {\n    setData(getCovidData());\n    unstated.updateCountriesML();\n    console.log(\"countriesML : mainComponents\", unstated.countriesML)\n    // problem with fetching data :TODO  Remove this(after found out) \n    getAll();\n    // eslint-disable-next-line\n  }, [])\n  return (\n    <div style={{ backgroundColor: '#282c34' }}>\n      <div className=\"row py-3\">\n        <div className=\" col-lg-9 col-md-9 col-sm-12 col-xs-12\" id=\"sticky-sidebar\">\n          <Dashboard data={unstated.total ? unstated.total : (data ? data : {})}\n            content={content ? content : ''}\n            style={{ position: \"absolute\", zIndex: 100, backgroundColor: '#282c34' }}\n          />\n          <MapChart setTooltipContent={setContent} />\n        </div>\n        <div className=\"order-1 col-lg-3 col-md-3 col-sm-12 col-xs-12\" id=\"main\" >\n          {/* <ListCountries data={unstated.getCovid19All} /> */}\n          <ListCountries data={unstated.total !== undefined ? unstated.total : (data !== undefined ? data : {})}\n            setCountry={unstated.setCountry} setCode={unstated.setCode} />\n          {/* {unstated.total ? unstated.total : (data ? data : {})} */}\n        </div>\n      </div>\n\n\n      <Box pt={4} style={{ bottom: 0, position: 'absolute' }}>\n        <Copyright />\n      </Box>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}