{"ast":null,"code":"import _slicedToArray from\"/Users/rims/Documents/Projects/covid19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import TableCasesData from'./TableCasesData';import _ from'lodash';import{StoreContainer}from'../Store';import Flag from'../modules/Flag';export default function ListCountries(props){var _React$useState=React.useState(props.countries),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),country=_React$useState4[0],setCountry=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),code=_React$useState6[0],setCode=_React$useState6[1];var unstated=StoreContainer.useContainer();function handleClick(event){var value=event.currentTarget.dataset.name.toLowerCase();// console.log(value)\nsetCountry(value);setCode(event.currentTarget.dataset.code.toUpperCase());unstated.setCountry(value);unstated.setCode(event.currentTarget.dataset.code.toUpperCase());}// to sort array according attribute of object inside\n// (data).sort(compareValues('TotalConfirmed', 'desc'))\nfunction compareValues(key){var order=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'asc';return function innerSort(a,b){if(!a.hasOwnProperty(key)||!b.hasOwnProperty(key)){// property doesn't exist on either object\nreturn 0;}var varA=typeof a[key]==='string'?a[key].toUpperCase():a[key];var varB=typeof b[key]==='string'?b[key].toUpperCase():b[key];var comparison=0;if(varA>varB){comparison=1;}else if(varA<varB){comparison=-1;}return order==='desc'?comparison*-1:comparison;};}React.useEffect(function(){if(!_.isEmpty(props.data.Countries))setData(props.data.Countries.sort(compareValues('TotalConfirmed','desc')));},[props.data,data,unstated.code,unstated.country]);return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",flexWrap:\"wrap\",overflow:\"hidden\",whiteSpace:\"nowrap\",/* Don't forget this one */textOverflow:\"ellipsis\",justifyContent:\"space-between\",maxWidth:'50vh'}},/*#__PURE__*/React.createElement(\"h1\",{style:{color:'whitesmoke'}},!_.isEmpty(unstated.code)&&!_.isEmpty(unstated.country)?/*#__PURE__*/React.createElement(TableCasesData,null):\"\",/*#__PURE__*/React.createElement(\"span\",null,Flag(unstated.code?unstated.code:code)),!_.isEmpty(unstated.country)?unstated.country:country),!_.isEmpty(props.data.Countries)?props.data.Countries.map(function(item,i){return/*#__PURE__*/React.createElement(\"span\",{className:\"button is-secondary is-fullwidth\",style:{display:\"flex\",fontSize:'12px',paddingLeft:'3px',justifyContent:\"space-between\",whiteSpace:\"nowrap\",textOverflow:\"ellipsis\",backgroundColor:'#282c34',color:\"whitesmoke\"},key:i,onClick:handleClick,\"data-name\":item.Country,\"data-code\":item.CountryCode},/*#__PURE__*/React.createElement(\"span\",null,item.Country),/*#__PURE__*/React.createElement(\"span\",null,\" \",item.TotalConfirmed));}):\"\");}","map":{"version":3,"sources":["/Users/rims/Documents/Projects/covid19/src/components/modules/ListCountries.tsx"],"names":["React","TableCasesData","_","StoreContainer","Flag","ListCountries","props","useState","countries","data","setData","country","setCountry","code","setCode","unstated","useContainer","handleClick","event","value","currentTarget","dataset","name","toLowerCase","toUpperCase","compareValues","key","order","innerSort","a","b","hasOwnProperty","varA","varB","comparison","useEffect","isEmpty","Countries","sort","display","flexDirection","flexWrap","overflow","whiteSpace","textOverflow","justifyContent","maxWidth","color","map","item","i","fontSize","paddingLeft","backgroundColor","Country","CountryCode","TotalConfirmed"],"mappings":"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","sourcesContent":["import React from 'react';\nimport TableCasesData from './TableCasesData';\nimport _ from 'lodash';\nimport { StoreContainer } from '../Store';\nimport Flag from '../modules/Flag';\n\nexport default function ListCountries(props: any) {\n  const [data, setData] = React.useState<any>(props.countries)\n  const [country, setCountry] = React.useState<String>(\"\")\n  const [code, setCode] = React.useState<String>(\"\")\n  const unstated = StoreContainer.useContainer();\n\n\n  function handleClick(event: any) {\n    const value = event.currentTarget.dataset.name.toLowerCase();\n    // console.log(value)\n    setCountry(value);\n    setCode(event.currentTarget.dataset.code.toUpperCase());\n    unstated.setCountry(value);\n    unstated.setCode(event.currentTarget.dataset.code.toUpperCase());\n  }\n\n  // to sort array according attribute of object inside\n  // (data).sort(compareValues('TotalConfirmed', 'desc'))\n  function compareValues(key: string, order = 'asc') {\n    return function innerSort(a: any, b: any) {\n      if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\n        // property doesn't exist on either object\n        return 0;\n      }\n      const varA = (typeof a[key] === 'string')\n        ? a[key].toUpperCase() : a[key];\n      const varB = (typeof b[key] === 'string')\n        ? b[key].toUpperCase() : b[key];\n      let comparison = 0;\n      if (varA > varB) {\n        comparison = 1;\n      } else if (varA < varB) {\n        comparison = -1;\n      }\n      return (\n        (order === 'desc') ? (comparison * -1) : comparison\n      );\n    };\n  }\n\n  React.useEffect(() => {\n    if (!_.isEmpty(props.data.Countries))\n      setData(props.data.Countries.sort(compareValues('TotalConfirmed', 'desc')));\n\n  }, [props.data, data, unstated.code, unstated.country])\n\n  return (\n    <div\n      style={{\n        display: \"flex\", flexDirection: \"column\", flexWrap: \"wrap\", overflow: \"hidden\",\n        whiteSpace: \"nowrap\", /* Don't forget this one */\n        textOverflow: \"ellipsis\",\n        justifyContent: \"space-between\",\n        maxWidth: '50vh'\n      }}>\n      <h1 style={{ color: 'whitesmoke' }}>\n        {!_.isEmpty(unstated.code) && !_.isEmpty(unstated.country) ?\n          <TableCasesData />\n          : \"\"}\n        <span>{Flag(unstated.code ? unstated.code : code)}</span>\n        {!_.isEmpty(unstated.country) ? unstated.country : country}\n      </h1>\n      {!_.isEmpty(props.data.Countries) ?\n        props.data.Countries.map((item: any, i: any) =>\n          <span className=\"button is-secondary is-fullwidth\"\n            style={{\n              display: \"flex\", fontSize: '12px', paddingLeft: '3px', justifyContent: \"space-between\",\n              whiteSpace: \"nowrap\", textOverflow: \"ellipsis\", backgroundColor: '#282c34', color: \"whitesmoke\"\n            }} key={i} onClick={handleClick} data-name={item.Country} data-code={item.CountryCode}>\n            <span>{item.Country}</span><span> {item.TotalConfirmed}</span>\n          </span>)\n        : \"\"}\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}